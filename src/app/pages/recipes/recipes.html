<div class="bg-(--color-background-cream) pb-16 md:pb-20">
  <section class="mx-auto max-w-(--max-content-width) px-4 pt-10 md:px-8 md:pt-16">
    <div class="mx-auto max-w-2xl text-center">
      <h1
        class="font-(family-name:--font-heading) text-[28px] font-extrabold leading-tight tracking-[-0.03em] text-(--color-primary-dark) md:text-[40px]"
      >
        Explore our simple, healthy recipes
      </h1>
      <p class="text-preset-9 mx-auto mt-4 max-w-xl text-(--color-secondary)">
        Discover eight quick, whole-food dishes that fit real-life schedules and taste amazing. Use
        the search bar to find a recipe by name or ingredient, or simply scroll the list and let
        something delicious catch your eye.
      </p>
    </div>

    <div class="mt-8 flex flex-col gap-4 md:mt-10 md:flex-row md:items-center md:justify-between">
      <div class="flex flex-col gap-3 md:flex-row md:gap-4">
        <app-filter-dropdown
          label="Max Prep Time"
          [options]="prepTimeOptions"
          [selectedValue]="maxPrepTime()"
          (selectionChange)="onMaxPrepTimeChange($event)"
        />
        <app-filter-dropdown
          label="Max Cook Time"
          [options]="cookTimeOptions"
          [selectedValue]="maxCookTime()"
          (selectionChange)="onMaxCookTimeChange($event)"
        />
      </div>

      <div class="relative">
        <img
          src="/images/icon-search.svg"
          alt=""
          class="pointer-events-none absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2"
        />
        <input
          type="search"
          placeholder="Search by name or ingredient..."
          class="w-full rounded-lg border border-(--color-border) bg-white py-2.5 pr-4 pl-10 text-sm text-(--color-primary-dark) placeholder:text-(--color-secondary) focus:outline-2 focus:outline-offset-2 focus:outline-(--color-accent-orange) md:w-72"
          aria-label="Search recipes by name or ingredient"
          [value]="searchQuery()"
          (input)="onSearchChange($any($event.target).value)"
        />
      </div>
    </div>

    <p class="text-preset-9 pt-6 text-(--color-secondary)" aria-live="polite">
      Showing {{ totalFilteredRecipes() }} of {{ recipes().length }} recipes
    </p>

    @if (filteredRecipes().length > 0) {
    <div
      class="mt-4 grid grid-cols-1 gap-6 md:mt-6 md:grid-cols-2 md:gap-8 lg:grid-cols-3"
      role="list"
      aria-label="Recipe list"
    >
      @for (recipe of filteredRecipes(); track recipe.id) {
      <div role="listitem">
        <app-recipe-card [recipe]="recipe" />
      </div>
      }
    </div>
    } @else {
    <div class="mt-10 flex flex-col items-center justify-center py-16 text-center">
      <p class="text-preset-4 text-(--color-primary-dark)">No recipes found</p>
      <p class="text-preset-9 mt-2 max-w-md text-(--color-secondary)">
        Try adjusting your search or filters to find what you're looking for.
      </p>
    </div>
    }
  </section>
</div>
