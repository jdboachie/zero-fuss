<div class="bg-(--color-background-cream) pb-16 md:pb-20">
  @if (recipe(); as recipe) {
    <nav
      class="mx-auto max-w-(--max-content-width) px-4 pt-6 md:px-8"
      aria-label="Breadcrumb"
    >
      <ol class="flex items-center gap-2 text-sm">
        <li>
          <a
            routerLink="/recipes"
            class="text-(--color-secondary) transition-colors hover:text-(--color-primary-dark)"
          >
            Recipes
          </a>
        </li>
        <li class="text-(--color-secondary)">/</li>
        <li class="text-(--color-primary-dark)">{{ recipe.title }}</li>
      </ol>
    </nav>

    <article class="mx-auto max-w-(--max-content-width) px-4 pt-6 md:px-8 md:pt-10">
      <div class="flex flex-col gap-8 lg:flex-row lg:gap-16">
        <div class="w-full lg:w-1/2">
          <div class="relative aspect-4/3 w-full overflow-hidden rounded-lg">
            <img
              [ngSrc]="recipe.image.large"
              [alt]="recipe.title"
              fill
              priority
              class="object-cover"
            />
          </div>
        </div>

        <div class="w-full lg:w-1/2">
          <h1
            class="font-(family-name:--font-heading) text-[32px] font-extrabold leading-tight tracking-[-0.03em] text-(--color-primary-dark) md:text-[40px]"
          >
            {{ recipe.title }}
          </h1>

          <p class="text-preset-9 mt-3 text-(--color-secondary)">
            {{ recipe.overview }}
          </p>

          <div class="mt-4 flex flex-wrap gap-x-6 gap-y-2 text-sm text-(--color-secondary)">
            <div class="flex items-center gap-1.5">
              <img ngSrc="/images/icon-servings.svg" alt="" width="16" height="16" />
              <span>Servings: {{ recipe.servings }}</span>
            </div>
            <div class="flex items-center gap-1.5">
              <img ngSrc="/images/icon-prep-time.svg" alt="" width="16" height="16" />
              <span>Prep: {{ recipe.prepMinutes }} mins</span>
            </div>
            <div class="flex items-center gap-1.5">
              <img ngSrc="/images/icon-cook-time.svg" alt="" width="16" height="16" />
              <span>Cook: {{ recipe.cookMinutes }} mins</span>
            </div>
          </div>

          <section class="mt-8">
            <h2
              class="font-(family-name:--font-heading) pb-4 text-xl font-bold text-(--color-primary-dark)"
            >
              Ingredients:
            </h2>
            <ul class="space-y-1">
              @for (ingredient of recipe.ingredients; track ingredient) {
                <li class="flex items-start gap-3 text-(--color-secondary) text-xl">
                  <img
                    ngSrc="/images/icon-bullet-point.svg"
                    alt=""
                    width="24"
                    height="24"
                    class="mt-0.5 shrink-0"
                  />
                  <span>{{ ingredient }}</span>
                </li>
              }
            </ul>
          </section>

          <section class="mt-8">
            <h2
              class="font-(family-name:--font-heading) pb-4 text-xl font-bold text-(--color-primary-dark)"
            >
              Instructions:
            </h2>
            <ol class="space-y-1">
              @for (instruction of recipe.instructions; track instruction) {
                <li class="flex items-start gap-3 text-(--color-secondary) text-xl">
                  <img
                    ngSrc="/images/icon-bullet-point.svg"
                    alt=""
                    width="24"
                    height="24"
                    class="mt-0.5 shrink-0"
                  />
                  <span>{{ instruction }}</span>
                </li>
              }
            </ol>
          </section>
        </div>
      </div>
    </article>

    <section class="mx-auto max-w-(--max-content-width) px-4 pt-16 md:px-8 md:pt-20">
      <h2
        class="font-(family-name:--font-heading) text-2xl font-bold text-(--color-primary-dark) md:text-[32px]"
      >
        More recipes
      </h2>

      <div
        class="mt-6 grid grid-cols-1 gap-6 md:mt-8 md:gap-8 lg:grid-cols-3"
        role="list"
        aria-label="More recipes"
      >
        @for (relatedRecipe of moreRecipes(); track relatedRecipe.id) {
          <div role="listitem">
            <app-recipe-card [recipe]="relatedRecipe" />
          </div>
        }
      </div>
    </section>
  } @else {
    <div class="mx-auto max-w-(--max-content-width) px-4 py-20 text-center md:px-8">
      <h1 class="text-preset-2 text-(--color-primary-dark)">Recipe not found</h1>
      <p class="text-preset-9 mt-4 text-(--color-secondary)">
        The recipe you're looking for doesn't exist.
      </p>
      <a
        routerLink="/recipes"
        class="mt-6 inline-block rounded-[10px] bg-(--color-primary-dark) px-6 py-3 font-bold text-white transition-colors hover:bg-[#1e4d45]"
      >
        Browse all recipes
      </a>
    </div>
  }
</div>
